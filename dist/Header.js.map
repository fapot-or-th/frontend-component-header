{"version":3,"file":"Header.js","names":["React","useContext","injectIntl","intlShape","AppContext","APP_CONFIG_INITIALIZED","ensureConfig","mergeConfig","subscribe","LearningHeader","messages","AUTHN_MINIMAL_HEADER","process","env","Header","_ref","intl","authenticatedUser","config","orderHistoryItem","type","href","ORDER_HISTORY_URL","content","formatMessage","userMenu","LMS_BASE_URL","ACCOUNT_PROFILE_URL","username","ACCOUNT_SETTINGS_URL","LOGOUT_URL","splice","createElement","propTypes","isRequired"],"sources":["../src/Header.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport {\n  APP_CONFIG_INITIALIZED,\n  ensureConfig,\n  mergeConfig,\n  subscribe,\n} from '@edx/frontend-platform';\n\nimport LearningHeader from './learning-header/LearningHeader';\n\nimport messages from './Header.messages';\n\nensureConfig([\n  'LMS_BASE_URL',\n  'LOGOUT_URL',\n  'LOGIN_URL',\n  'SITE_NAME',\n  'LOGO_URL',\n  'ORDER_HISTORY_URL',\n], 'Header component');\n\nsubscribe(APP_CONFIG_INITIALIZED, () => {\n  mergeConfig({\n    AUTHN_MINIMAL_HEADER: !!process.env.AUTHN_MINIMAL_HEADER,\n  }, 'Header additional config');\n});\n\nconst Header = ({ intl }) => {\n  const { authenticatedUser, config } = useContext(AppContext);\n\n  const orderHistoryItem = {\n    type: 'item',\n    href: config.ORDER_HISTORY_URL,\n    content: intl.formatMessage(messages['header.user.menu.order.history']),\n  };\n\n  const userMenu = authenticatedUser === null ? [] : [\n    {\n      type: 'item',\n      href: `${config.LMS_BASE_URL}/dashboard`,\n      content: intl.formatMessage(messages['header.user.menu.dashboard']),\n    },\n    {\n      type: 'item',\n      href: `${config.ACCOUNT_PROFILE_URL}/u/${authenticatedUser.username}`,\n      content: intl.formatMessage(messages['header.user.menu.profile']),\n    },\n    {\n      type: 'item',\n      href: config.ACCOUNT_SETTINGS_URL,\n      content: intl.formatMessage(messages['header.user.menu.account.settings']),\n    },\n    {\n      type: 'item',\n      href: config.LOGOUT_URL,\n      content: intl.formatMessage(messages['header.user.menu.logout']),\n    },\n  ];\n\n  // Users should only see Order History if have a ORDER_HISTORY_URL define in the environment.\n  if (config.ORDER_HISTORY_URL) {\n    userMenu.splice(-1, 0, orderHistoryItem);\n  }\n\n  return <LearningHeader />;\n};\n\nHeader.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(Header);\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,UAAU,EAAEC,SAAS,QAAQ,6BAA6B;AACnE,SAASC,UAAU,QAAQ,8BAA8B;AACzD,SACEC,sBAAsB,EACtBC,YAAY,EACZC,WAAW,EACXC,SAAS,QACJ,wBAAwB;AAE/B,OAAOC,cAAc,MAAM,kCAAkC;AAE7D,OAAOC,QAAQ,MAAM,mBAAmB;AAExCJ,YAAY,CAAC,CACX,cAAc,EACd,YAAY,EACZ,WAAW,EACX,WAAW,EACX,UAAU,EACV,mBAAmB,CACpB,EAAE,kBAAkB,CAAC;AAEtBE,SAAS,CAACH,sBAAsB,EAAE,MAAM;EACtCE,WAAW,CAAC;IACVI,oBAAoB,EAAE,CAAC,CAACC,OAAO,CAACC,GAAG,CAACF;EACtC,CAAC,EAAE,0BAA0B,CAAC;AAChC,CAAC,CAAC;AAEF,MAAMG,MAAM,GAAGC,IAAA,IAAc;EAAA,IAAb;IAAEC;EAAK,CAAC,GAAAD,IAAA;EACtB,MAAM;IAAEE,iBAAiB;IAAEC;EAAO,CAAC,GAAGjB,UAAU,CAACG,UAAU,CAAC;EAE5D,MAAMe,gBAAgB,GAAG;IACvBC,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEH,MAAM,CAACI,iBAAiB;IAC9BC,OAAO,EAAEP,IAAI,CAACQ,aAAa,CAACd,QAAQ,CAAC,gCAAgC,CAAC;EACxE,CAAC;EAED,MAAMe,QAAQ,GAAGR,iBAAiB,KAAK,IAAI,GAAG,EAAE,GAAG,CACjD;IACEG,IAAI,EAAE,MAAM;IACZC,IAAI,EAAG,GAAEH,MAAM,CAACQ,YAAa,YAAW;IACxCH,OAAO,EAAEP,IAAI,CAACQ,aAAa,CAACd,QAAQ,CAAC,4BAA4B,CAAC;EACpE,CAAC,EACD;IACEU,IAAI,EAAE,MAAM;IACZC,IAAI,EAAG,GAAEH,MAAM,CAACS,mBAAoB,MAAKV,iBAAiB,CAACW,QAAS,EAAC;IACrEL,OAAO,EAAEP,IAAI,CAACQ,aAAa,CAACd,QAAQ,CAAC,0BAA0B,CAAC;EAClE,CAAC,EACD;IACEU,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEH,MAAM,CAACW,oBAAoB;IACjCN,OAAO,EAAEP,IAAI,CAACQ,aAAa,CAACd,QAAQ,CAAC,mCAAmC,CAAC;EAC3E,CAAC,EACD;IACEU,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEH,MAAM,CAACY,UAAU;IACvBP,OAAO,EAAEP,IAAI,CAACQ,aAAa,CAACd,QAAQ,CAAC,yBAAyB,CAAC;EACjE,CAAC,CACF;;EAED;EACA,IAAIQ,MAAM,CAACI,iBAAiB,EAAE;IAC5BG,QAAQ,CAACM,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAEZ,gBAAgB,CAAC;EAC1C;EAEA,oBAAOnB,KAAA,CAAAgC,aAAA,CAACvB,cAAc,MAAE,CAAC;AAC3B,CAAC;AAEDK,MAAM,CAACmB,SAAS,GAAG;EACjBjB,IAAI,EAAEb,SAAS,CAAC+B;AAClB,CAAC;AAED,eAAehC,UAAU,CAACY,MAAM,CAAC"}