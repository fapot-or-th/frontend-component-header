{"version":3,"file":"LearningHeader.js","names":["React","useContext","useState","PropTypes","getConfig","injectIntl","intlShape","getLoginRedirectUrl","AppContext","Squash","Hamburger","useMediaQuery","AnonymousUserMenu","AuthenticatedUserDropdown","messages","genericMessages","LinkedLogo","_ref","href","src","alt","attributes","_objectWithoutProperties","_excluded","createElement","_extends","className","propTypes","string","isRequired","LearningHeader","_ref2","courseOrg","courseNumber","courseTitle","intl","showUserDropdown","_useContext","authenticatedUser","_useState","_useState2","_slicedToArray","isOpenMobileMenu","setIsOpenMobileMenu","isDesktop","query","headerLogo","concat","LMS_BASE_URL","LOGO_URL","SITE_NAME","fullNameTH","fullNameEN","isHideMenuItem","formatMessage","skipNavLink","toggled","toggle","style","lineHeight","username","encodeURIComponent","global","location","registerSentenceCase","signInSentenceCase","bool","defaultProps"],"sources":["../../src/learning-header/LearningHeader.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getLoginRedirectUrl } from '@edx/frontend-platform/auth';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport { Squash as Hamburger } from 'hamburger-react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport AnonymousUserMenu from './AnonymousUserMenu';\nimport AuthenticatedUserDropdown from './AuthenticatedUserDropdown';\nimport messages from './messages';\nimport genericMessages from '../generic/messages';\n\nconst LinkedLogo = ({\n  href,\n  src,\n  alt,\n  ...attributes\n}) => (\n  <a href={href} {...attributes}>\n    <img className=\"d-block\" src={src} alt={alt} />\n  </a>\n);\n\nLinkedLogo.propTypes = {\n  href: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nconst LearningHeader = ({\n  courseOrg, courseNumber, courseTitle, intl, showUserDropdown,\n}) => {\n  const { authenticatedUser } = useContext(AppContext);\n  const [isOpenMobileMenu, setIsOpenMobileMenu] = useState(false);\n  const isDesktop = useMediaQuery({ query: '(min-width: 992px)' });\n\n  const headerLogo = (\n    <LinkedLogo\n      className=\"link-logo\"\n      href={`${getConfig().LMS_BASE_URL}/dashboard`}\n      src={getConfig().LOGO_URL}\n      alt={getConfig().SITE_NAME}\n    />\n  );\n\n  const fullNameTH = 'หอภาพยนตร์ (องค์การมหาชน)';\n  const fullNameEN = 'Film Archive (Public Organization)';\n  const isHideMenuItem = isDesktop || !isOpenMobileMenu;\n\n  return (\n    <header className=\"learning-header\">\n      <div className=\"header-container container-xl\">\n        <a className=\"sr-only sr-only-focusable\" href=\"#main-content\">{intl.formatMessage(messages.skipNavLink)}</a>\n        <div className=\"py-2 d-flex header-logo\">\n          {!isDesktop && <Hamburger toggled={isOpenMobileMenu} toggle={setIsOpenMobileMenu} /> }\n          <div className=\"d-flex flex-row\">\n            {headerLogo}\n            <div className=\"full-name-container\">\n              <div className=\"full-name-th\">{fullNameTH}</div>\n              <div className=\"full-name-en\">{fullNameEN}</div>\n            </div>\n            <div className=\"flex-grow-1 course-title-lockup\" style={{ lineHeight: 1 }}>\n              <span className=\"d-block m-0 font-weight-bold course-title\">{courseTitle}</span>\n              <span className=\"d-block small m-0\">{courseOrg} {courseNumber}</span>\n            </div>\n          </div>\n          <div className=\"dropdown-conotainer\">\n            {showUserDropdown && authenticatedUser && (\n            <AuthenticatedUserDropdown\n              username={authenticatedUser.username}\n            />\n            )}\n            {showUserDropdown && !authenticatedUser && (\n            <AnonymousUserMenu />\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"banner\">\n        <div className=\"banner-container\">\n          <h2>{fullNameTH}</h2>\n          <h1>E - Learning</h1>\n        </div>\n      </div>\n\n      {!isHideMenuItem && (\n        <div className=\"mobile-menu\">\n          <div className=\"mobile-nav-link\">\n            <a href={`${getConfig().LMS_BASE_URL}/register?next=${encodeURIComponent(global.location.href)}`}>\n              {intl.formatMessage(genericMessages.registerSentenceCase)}\n            </a>\n          </div>\n          <div className=\"mobile-nav-link\">\n            <a href={`${getLoginRedirectUrl(global.location.href)}`}>\n              {intl.formatMessage(genericMessages.signInSentenceCase)}\n            </a>\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\nLearningHeader.propTypes = {\n  courseOrg: PropTypes.string,\n  courseNumber: PropTypes.string,\n  courseTitle: PropTypes.string,\n  intl: intlShape.isRequired,\n  showUserDropdown: PropTypes.bool,\n};\n\nLearningHeader.defaultProps = {\n  courseOrg: null,\n  courseNumber: null,\n  courseTitle: null,\n  showUserDropdown: true,\n};\n\nexport default injectIntl(LearningHeader);\n"],"mappings":"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"}