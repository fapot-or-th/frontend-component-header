{"version":3,"file":"LearningHeader.js","names":["React","useContext","useState","PropTypes","getConfig","injectIntl","intlShape","getLoginRedirectUrl","AppContext","Squash","Hamburger","useMediaQuery","AnonymousUserMenu","AuthenticatedUserDropdown","messages","genericMessages","LinkedLogo","_ref","href","src","alt","attributes","_objectWithoutProperties","_excluded","createElement","_extends","className","propTypes","string","isRequired","LearningHeader","_ref2","courseOrg","courseNumber","courseTitle","intl","showUserDropdown","_useContext","authenticatedUser","_useState","_useState2","_slicedToArray","isOpenMobileMenu","setIsOpenMobileMenu","isDesktop","query","headerLogo","concat","LMS_BASE_URL","LOGO_URL","SITE_NAME","fullNameTH","fullNameEN","isHideMenuItem","Fragment","formatMessage","skipNavLink","toggled","toggle","style","lineHeight","username","dashboard","courses","ACCOUNT_PROFILE_URL","profile","ACCOUNT_SETTINGS_URL","account","LOGOUT_URL","signOut","encodeURIComponent","global","location","registerSentenceCase","signInSentenceCase","bool","defaultProps"],"sources":["../../src/learning-header/LearningHeader.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getLoginRedirectUrl } from '@edx/frontend-platform/auth';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport { Squash as Hamburger } from 'hamburger-react';\nimport { useMediaQuery } from 'react-responsive';\n\nimport AnonymousUserMenu from './AnonymousUserMenu';\nimport AuthenticatedUserDropdown from './AuthenticatedUserDropdown';\nimport messages from './messages';\nimport genericMessages from '../generic/messages';\n\nconst LinkedLogo = ({\n  href,\n  src,\n  alt,\n  ...attributes\n}) => (\n  <a href={href} {...attributes}>\n    <img className=\"d-block\" src={src} alt={alt} />\n  </a>\n);\n\nLinkedLogo.propTypes = {\n  href: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nconst LearningHeader = ({\n  courseOrg, courseNumber, courseTitle, intl, showUserDropdown,\n}) => {\n  const { authenticatedUser } = useContext(AppContext);\n  const [isOpenMobileMenu, setIsOpenMobileMenu] = useState(false);\n  const isDesktop = useMediaQuery({ query: '(min-width: 992px)' });\n\n  const headerLogo = (\n    <LinkedLogo\n      className=\"link-logo\"\n      href={`${getConfig().LMS_BASE_URL}/dashboard`}\n      src={getConfig().LOGO_URL}\n      alt={getConfig().SITE_NAME}\n    />\n  );\n\n  const fullNameTH = 'หอภาพยนตร์ (องค์การมหาชน)';\n  const fullNameEN = 'Film Archive (Public Organization)';\n  const isHideMenuItem = isDesktop || !isOpenMobileMenu;\n\n  return (\n    <>\n      <header className=\"learning-header\">\n        <div className=\"header-container container-xl\">\n          <a className=\"sr-only sr-only-focusable\" href=\"#main-content\">{intl.formatMessage(messages.skipNavLink)}</a>\n          <div className=\"py-2 d-flex header-logo\">\n            {!isDesktop && <Hamburger toggled={isOpenMobileMenu} toggle={setIsOpenMobileMenu} /> }\n            <div className=\"d-flex flex-row\">\n              {headerLogo}\n              <div className=\"full-name-container\">\n                <div className=\"full-name-th\">{fullNameTH}</div>\n                <div className=\"full-name-en\">{fullNameEN}</div>\n              </div>\n              <div className=\"flex-grow-1 course-title-lockup\" style={{ lineHeight: 1 }}>\n                <span className=\"d-block m-0 font-weight-bold course-title\">{courseTitle}</span>\n                <span className=\"d-block small m-0\">{courseOrg} {courseNumber}</span>\n              </div>\n            </div>\n            <div className=\"dropdown-conotainer\">\n              {showUserDropdown && authenticatedUser && (\n              <AuthenticatedUserDropdown\n                username={authenticatedUser.username}\n              />\n              )}\n              {showUserDropdown && !authenticatedUser && (\n              <AnonymousUserMenu />\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"banner\">\n          <div className=\"banner-container\">\n            <h2>{fullNameTH}</h2>\n            <h1>E - Learning</h1>\n          </div>\n        </div>\n\n        {!isHideMenuItem && (\n          authenticatedUser ? (\n            <div className=\"mobile-menu\">\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().LMS_BASE_URL}`}>\n                  {intl.formatMessage(messages.dashboard)}\n                </a>\n              </div>\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().LMS_BASE_URL}/courses`}>\n                  {intl.formatMessage(messages.courses)}\n                </a>\n              </div>\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().ACCOUNT_PROFILE_URL}/u/${authenticatedUser.username}`}>\n                  {intl.formatMessage(messages.profile)}\n                </a>\n              </div>\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().ACCOUNT_SETTINGS_URL}`}>\n                  {intl.formatMessage(messages.account)}\n                </a>\n              </div>\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().LOGOUT_URL}`}>\n                  {intl.formatMessage(messages.signOut)}\n                </a>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mobile-menu\">\n              <div className=\"mobile-nav-link\">\n                <a href={`${getConfig().LMS_BASE_URL}/register?next=${encodeURIComponent(global.location.href)}`}>\n                  {intl.formatMessage(genericMessages.registerSentenceCase)}\n                </a>\n              </div>\n              <div className=\"mobile-nav-link\">\n                <a href={`${getLoginRedirectUrl(global.location.href)}`}>\n                  {intl.formatMessage(genericMessages.signInSentenceCase)}\n                </a>\n              </div>\n            </div>\n          )\n        )}\n      </header>\n      <div className=\"alocate-space\" />\n    </>\n  );\n};\n\nLearningHeader.propTypes = {\n  courseOrg: PropTypes.string,\n  courseNumber: PropTypes.string,\n  courseTitle: PropTypes.string,\n  intl: intlShape.isRequired,\n  showUserDropdown: PropTypes.bool,\n};\n\nLearningHeader.defaultProps = {\n  courseOrg: null,\n  courseNumber: null,\n  courseTitle: null,\n  showUserDropdown: true,\n};\n\nexport default injectIntl(LearningHeader);\n"],"mappings":"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"}