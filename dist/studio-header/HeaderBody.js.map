{"version":3,"file":"HeaderBody.js","names":["React","PropTypes","ActionRow","Button","Container","Nav","Row","Close","MenuIcon","Cookies","CourseLockUp","UserMenu","BrandNav","NavDropdownMenu","HeaderBody","_ref","logo","logoAltText","number","org","title","username","isAdmin","studioBaseUrl","logoutUrl","authenticatedUserAvatar","isMobile","setModalPopupTarget","toggleModalPopup","isModalPopupOpen","isHiddenMainMenu","mainMenuDropdowns","outlineLink","renderBrandNav","createElement","domain","window","location","hostname","replace","language","get","handleChangeLanguage","event","newLanguage","target","value","set","reload","fullNameTH","fullNameEN","size","className","as","Fragment","ref","variant","onClick","iconBefore","Spacer","map","dropdown","id","buttonTitle","items","key","name","onChange","propTypes","string","isRequired","func","bool","arrayOf","shape","href","defaultProps"],"sources":["../../src/studio-header/HeaderBody.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ActionRow,\n  Button,\n  Container,\n  Nav,\n  Row,\n} from '@openedx/paragon';\nimport { Close, MenuIcon } from '@openedx/paragon/icons';\nimport Cookies from 'js-cookie';\n\nimport CourseLockUp from './CourseLockUp';\nimport UserMenu from './UserMenu';\nimport BrandNav from './BrandNav';\nimport NavDropdownMenu from './NavDropdownMenu';\n\nconst HeaderBody = ({\n  logo,\n  logoAltText,\n  number,\n  org,\n  title,\n  username,\n  isAdmin,\n  studioBaseUrl,\n  logoutUrl,\n  authenticatedUserAvatar,\n  isMobile,\n  setModalPopupTarget,\n  toggleModalPopup,\n  isModalPopupOpen,\n  isHiddenMainMenu,\n  mainMenuDropdowns,\n  outlineLink,\n}) => {\n  const renderBrandNav = (\n    <BrandNav\n      {...{\n        studioBaseUrl,\n        logo,\n        logoAltText,\n      }}\n    />\n  );\n\n  const domain = window.location.hostname.replace('apps', '');\n\n  const language = Cookies.get('openedx-language-preference', { domain }) ?? 'en';\n\n  const handleChangeLanguage = (event) => {\n    const newLanguage = event.target.value ?? 'en';\n    Cookies.set('openedx-language-preference', newLanguage, { domain });\n    window.location.reload();\n  };\n\n  const fullNameTH = 'หอภาพยนตร์ (องค์การมหาชน)';\n  const fullNameEN = 'Film Archive (Public Organization)';\n\n  return (\n    <Container size=\"xl\" className=\"px-2.5\">\n      <ActionRow as=\"header\">\n        {isHiddenMainMenu ? (\n          <Row className=\"logo-container flex-nowrap ml-4\">\n            {renderBrandNav}\n          </Row>\n        ) : (\n          <>\n            {isMobile ? (\n              <Button\n                ref={setModalPopupTarget}\n                className=\"d-inline-flex align-items-center\"\n                variant=\"tertiary\"\n                onClick={toggleModalPopup}\n                iconBefore={isModalPopupOpen ? Close : MenuIcon}\n                data-testid=\"mobile-menu-button\"\n              >\n                Menu\n              </Button>\n            ) : (\n              <Row className=\"logo-container m-0 flex-nowrap\">\n                {renderBrandNav}\n                <div className=\"full-name-container\">\n                  <div className=\"full-name-th\">{fullNameTH}</div>\n                  <div className=\"full-name-en\">{fullNameEN}</div>\n                </div>\n                <CourseLockUp\n                  {...{\n                    outlineLink,\n                    number,\n                    org,\n                    title,\n                  }}\n                />\n              </Row>\n            )}\n            {isMobile ? (\n              <>\n                <ActionRow.Spacer />\n                <div className=\"logo-container\">\n                  {renderBrandNav}\n                </div>\n              </>\n            ) : (\n              <Nav data-testid=\"desktop-menu\" className=\"ml-2\">\n                {mainMenuDropdowns.map(dropdown => {\n                  const { id, buttonTitle, items } = dropdown;\n                  return (\n                    <NavDropdownMenu key={id} {...{ id, buttonTitle, items }} />\n                  );\n                })}\n              </Nav>\n            )}\n          </>\n        )}\n        <ActionRow.Spacer />\n        <Nav>\n          <select className=\"language-selector\" value={language} name=\"language\" onChange={handleChangeLanguage}>\n            <option value=\"en\">EN</option>\n            <option value=\"th\">TH</option>\n          </select>\n          <UserMenu\n            {...{\n              username,\n              studioBaseUrl,\n              logoutUrl,\n              authenticatedUserAvatar,\n              isAdmin,\n            }}\n          />\n        </Nav>\n      </ActionRow>\n    </Container>\n  );\n};\n\nHeaderBody.propTypes = {\n  studioBaseUrl: PropTypes.string.isRequired,\n  logoutUrl: PropTypes.string.isRequired,\n  setModalPopupTarget: PropTypes.func,\n  toggleModalPopup: PropTypes.func,\n  isModalPopupOpen: PropTypes.bool,\n  number: PropTypes.string,\n  org: PropTypes.string,\n  title: PropTypes.string,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  authenticatedUserAvatar: PropTypes.string,\n  username: PropTypes.string,\n  isAdmin: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isHiddenMainMenu: PropTypes.bool,\n  mainMenuDropdowns: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    buttonTitle: PropTypes.string,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      href: PropTypes.string,\n      title: PropTypes.string,\n    })),\n  })),\n  outlineLink: PropTypes.string,\n};\n\nHeaderBody.defaultProps = {\n  setModalPopupTarget: null,\n  toggleModalPopup: null,\n  isModalPopupOpen: false,\n  logo: null,\n  logoAltText: null,\n  number: '',\n  org: '',\n  title: '',\n  authenticatedUserAvatar: null,\n  username: null,\n  isAdmin: false,\n  isMobile: false,\n  isHiddenMainMenu: false,\n  mainMenuDropdowns: [],\n  outlineLink: null,\n};\n\nexport default HeaderBody;\n"],"mappings":"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"}